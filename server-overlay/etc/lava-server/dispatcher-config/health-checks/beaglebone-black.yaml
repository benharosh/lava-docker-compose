device_type: beaglebone-black

job_name: beaglebone-black-health
timeouts:
  job:
    minutes: 10
  action:
   minutes: 10
  actions:
    power-off:
      seconds: 30
priority: medium
visibility: public

actions:
- deploy:
    timeout:
      minutes: 2
    to: tftp
    kernel:
      url: http://people.linaro.org/~dan.rue/health_checks/beaglebone-black/zImage
      type: zimage
      sha256sum: 96adbe884edbb807fe1b3dffe50071027623553da0ff0ceb5ea7e7ac67649328
    ramdisk:
      url: http://people.linaro.org/~dan.rue/health_checks/beaglebone-black/rootfs.cpio.gz
      compression: gz
      sha256sum: ea5f187412d2e62547651a28408cb19b6225f01e862a4cc4f31feddea94d551c
    modules:
      url: http://people.linaro.org/~dan.rue/health_checks/beaglebone-black/modules.tar.xz
      compression: xz
      sha256sum: a6a9a3de0a176fc6b52c32b5573a9a9b4e2b5cd058bebbe0b940f75abe72164a
    dtb:
      url: http://people.linaro.org/~dan.rue/health_checks/beaglebone-black/am335x-boneblack.dtb
      sha256sum: 3779529c5512b476dabe8c04cbfab64315149ec188ba343e7c393f150ff1e4df
    os: oe

- boot:
    timeout:
      minutes: 5
    method: u-boot
    commands: ramdisk
    prompts:
      - '/ #'
